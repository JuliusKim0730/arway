# ì „ì²´ ë””ë²„ê·¸ ìµœì¢… ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-12-22  
**ìƒíƒœ**: âœ… ëŒ€ë¶€ë¶„ ì™„ë£Œ (ì¼ë¶€ ì˜ì¡´ì„± ë¬¸ì œ ë‚¨ìŒ)

---

## âœ… ì™„ë£Œëœ ìˆ˜ì • ì‚¬í•­

### 1. í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ì˜¤ë¥˜

#### âœ… ë¬¸ì œ 1: Import ê²½ë¡œ ì˜¤ë¥˜
**íŒŒì¼**: `frontend/lib/api/scq.ts`  
**ì˜¤ë¥˜**: `Module not found: Can't resolve './client'`  
**ìˆ˜ì •**: `import { apiGet } from '../apiClient';`ë¡œ ë³€ê²½

#### âœ… ë¬¸ì œ 2: ëˆ„ë½ëœ Analytics ì´ë²¤íŠ¸
**íŒŒì¼**: `frontend/lib/analytics.ts`  
**ì˜¤ë¥˜**: `AnalyticsEvents.INDOOR_MODE_ACTIVATED` ì •ì˜ë˜ì§€ ì•ŠìŒ  
**ìˆ˜ì •**: `INDOOR_MODE_ACTIVATED: 'indoor_mode_activated'` ì¶”ê°€

### 2. ë°±ì—”ë“œ SQLAlchemy ì˜¤ë¥˜

#### âœ… ë¬¸ì œ 3: SQLAlchemy ì˜ˆì•½ì–´ ì¶©ëŒ
**íŒŒì¼**: `backend/app/models/indoor_map.py`, `landmark.py`, `poi.py`  
**ì˜¤ë¥˜**: `Attribute name 'metadata' is reserved when using the Declarative API`  
**ì›ì¸**: `metadata`ëŠ” SQLAlchemyì˜ ì˜ˆì•½ì–´  
**ìˆ˜ì •**: 
- `IndoorZone.metadata` â†’ `IndoorZone.zone_metadata`
- `Landmark.metadata` â†’ `Landmark.landmark_metadata`
- `POI.metadata` â†’ `POI.poi_metadata`

#### âœ… ë¬¸ì œ 4: ìŠ¤í‚¤ë§ˆ í•„ë“œëª… ë¶ˆì¼ì¹˜
**íŒŒì¼**: `backend/app/schemas/indoor_map.py`, `poi.py`  
**ìˆ˜ì •**: ëª¨ë¸ê³¼ ì¼ì¹˜í•˜ë„ë¡ í•„ë“œëª… ë³€ê²½

#### âœ… ë¬¸ì œ 5: SQL ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸
**íŒŒì¼**: `docs/CREATE_SCQ_TABLES.sql`  
**ìˆ˜ì •**: ì»¬ëŸ¼ëª…ì„ `zone_metadata`, `landmark_metadata`, `poi_metadata`ë¡œ ë³€ê²½

---

## âš ï¸ ë‚¨ì€ ë¬¸ì œ

### ë°±ì—”ë“œ ì˜ì¡´ì„± ë¬¸ì œ
**ì˜¤ë¥˜**: `ModuleNotFoundError: No module named 'email_validator'`  
**ì›ì¸**: `pydantic[email]` ì˜ì¡´ì„± ëˆ„ë½  
**í•´ê²° ë°©ë²•**: 
```bash
pip install email-validator
# ë˜ëŠ”
pip install pydantic[email]
```

---

## âœ… ë¹Œë“œ ê²°ê³¼

### í”„ë¡ íŠ¸ì—”ë“œ
- âœ… **ë¹Œë“œ ìƒíƒœ**: ì„±ê³µ
- âœ… **íƒ€ì… ì²´í¬**: í†µê³¼
- âœ… **Linting**: í†µê³¼
- âœ… **ë²ˆë“¤ í¬ê¸°**: ì •ìƒ
  - `/ar-nav/run`: 21.9 kB (SCQ í†µí•© í¬í•¨)
  - ê³µìœ  ì²­í¬: 87.9 kB

### ë°±ì—”ë“œ
- âš ï¸ **ì˜ì¡´ì„±**: `email-validator` ì„¤ì¹˜ í•„ìš”
- âœ… **SQLAlchemy ëª¨ë¸**: ìˆ˜ì • ì™„ë£Œ
- âœ… **ìŠ¤í‚¤ë§ˆ**: ìˆ˜ì • ì™„ë£Œ

---

## ğŸ“‹ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### í”„ë¡ íŠ¸ì—”ë“œ
1. `frontend/lib/api/scq.ts` - Import ê²½ë¡œ ìˆ˜ì •
2. `frontend/lib/analytics.ts` - Analytics ì´ë²¤íŠ¸ ì¶”ê°€

### ë°±ì—”ë“œ
1. `backend/app/models/indoor_map.py` - `metadata` â†’ `zone_metadata`
2. `backend/app/models/landmark.py` - `metadata` â†’ `landmark_metadata`
3. `backend/app/models/poi.py` - `metadata` â†’ `poi_metadata`
4. `backend/app/schemas/indoor_map.py` - í•„ë“œëª… ìˆ˜ì •
5. `backend/app/schemas/poi.py` - í•„ë“œëª… ìˆ˜ì •
6. `docs/CREATE_SCQ_TABLES.sql` - ì»¬ëŸ¼ëª… ìˆ˜ì •

---

## ğŸ”§ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥
1. âœ… í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ì„±ê³µ
2. ë°±ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜:
   ```bash
   cd backend
   pip install email-validator
   ```
3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì¬ì‹¤í–‰ (ì»¬ëŸ¼ëª… ë³€ê²½ ë°˜ì˜)

### ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
ê¸°ì¡´ í…Œì´ë¸”ì´ ìˆë‹¤ë©´ ì»¬ëŸ¼ëª… ë³€ê²½ í•„ìš”:
```sql
ALTER TABLE indoor_zones RENAME COLUMN metadata TO zone_metadata;
ALTER TABLE landmarks RENAME COLUMN metadata TO landmark_metadata;
ALTER TABLE pois RENAME COLUMN metadata TO poi_metadata;
```

---

## âœ… ìµœì¢… ìƒíƒœ

- âœ… **í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ**: ì„±ê³µ
- âœ… **í”„ë¡ íŠ¸ì—”ë“œ íƒ€ì… ì²´í¬**: í†µê³¼
- âœ… **í”„ë¡ íŠ¸ì—”ë“œ Linting**: í†µê³¼
- âœ… **ë°±ì—”ë“œ ëª¨ë¸**: ìˆ˜ì • ì™„ë£Œ
- âœ… **ë°±ì—”ë“œ ìŠ¤í‚¤ë§ˆ**: ìˆ˜ì • ì™„ë£Œ
- âš ï¸ **ë°±ì—”ë“œ ì˜ì¡´ì„±**: `email-validator` ì„¤ì¹˜ í•„ìš”

---

**ë””ë²„ê·¸ ì™„ë£Œì¼**: 2025-12-22  
**ë‹¤ìŒ ë‹¨ê³„**: ë°±ì—”ë“œ ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

