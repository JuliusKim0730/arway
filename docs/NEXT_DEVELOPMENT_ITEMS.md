# 다음 개발 항목 정리

**작성일**: 2024년 12월 19일  
**현재 상태**: MVP 완료, 백엔드 테스트 15/15 통과 ✅

---

## 🎯 즉시 개발 가능한 항목 (우선순위 높음)

### 1. 목적지 검색 기능 🔍
**우선순위**: 🔴 높음  
**예상 시간**: 4-6시간  
**현재 상태**: 목적지 목록만 표시, 검색 기능 없음

**구현 내용**:
- [ ] 프론트엔드에 검색 입력창 추가 (`frontend/app/ar-nav/select/page.tsx`)
- [ ] 백엔드 API에 검색 쿼리 파라미터 추가 (`backend/app/api/v1/destinations.py`)
  - 이름, 주소, 설명으로 검색
  - `GET /api/v1/destinations/?search=검색어`
- [ ] 실시간 검색 필터링 (디바운싱 적용)
- [ ] 검색 결과 없을 때 안내 메시지

**파일 수정**:
- `frontend/app/ar-nav/select/page.tsx` - 검색 UI 추가
- `backend/app/api/v1/destinations.py` - 검색 로직 추가
- `frontend/lib/api.ts` - 검색 API 호출 함수 추가

---

### 2. 즐겨찾기 기능 ⭐
**우선순위**: 🔴 높음  
**예상 시간**: 6-8시간  
**현재 상태**: 미구현

**구현 내용**:
- [ ] 데이터베이스 모델 추가 (`backend/app/models/favorite.py`)
  - User와 Destination의 Many-to-Many 관계
- [ ] 백엔드 API 엔드포인트 추가
  - `POST /api/v1/favorites/` - 즐겨찾기 추가
  - `DELETE /api/v1/favorites/{destination_id}` - 즐겨찾기 제거
  - `GET /api/v1/favorites/` - 즐겨찾기 목록 조회
- [ ] 프론트엔드 UI 추가
  - 목적지 카드에 별 아이콘 추가
  - 즐겨찾기 탭 추가 (즐겨찾기만 보기)
  - 즐겨찾기 상태 표시

**파일 생성/수정**:
- `backend/app/models/favorite.py` - 새 파일
- `backend/app/schemas/favorite.py` - 새 파일
- `backend/app/api/v1/favorites.py` - 새 파일
- `frontend/app/ar-nav/select/page.tsx` - UI 추가
- `frontend/lib/api.ts` - API 함수 추가

---

### 3. 경로 히스토리 기능 📜
**우선순위**: 🟡 중간  
**예상 시간**: 4-6시간  
**현재 상태**: 세션은 저장되지만 히스토리 화면 없음

**구현 내용**:
- [ ] 히스토리 화면 추가 (`frontend/app/ar-nav/history/page.tsx`)
- [ ] 백엔드 API 엔드포인트 추가
  - `GET /api/v1/sessions/?user_id={user_id}` - 사용자 세션 히스토리
- [ ] 히스토리 카드 UI
  - 목적지 이름, 날짜, 소요 시간 표시
  - 클릭 시 재시작 옵션 제공
- [ ] 통계 정보 표시
  - 총 네비게이션 횟수
  - 평균 소요 시간

**파일 생성/수정**:
- `frontend/app/ar-nav/history/page.tsx` - 새 파일
- `backend/app/api/v1/sessions.py` - 히스토리 조회 로직 추가
- `frontend/lib/api.ts` - API 함수 추가

---

## 🎨 사용자 경험 개선 항목

### 4. 로딩 상태 개선 ⏳
**우선순위**: 🟡 중간  
**예상 시간**: 2-3시간

**개선 내용**:
- [ ] 스켈레톤 UI 추가 (목적지 로딩 시)
- [ ] 진행률 표시 (AR 네비 실행 시)
- [ ] 부드러운 전환 애니메이션

---

### 5. 화살표 애니메이션 개선 🎯
**우선순위**: 🟡 중간  
**예상 시간**: 3-4시간

**개선 내용**:
- [ ] 방향 변경 시 부드러운 회전 애니메이션
- [ ] 거리에 따른 화살표 크기 조절
- [ ] 펄스 효과 (도착 근처일 때)
- [ ] 거리 표시 애니메이션

**파일 수정**:
- `frontend/components/ArrowIndicator.tsx`

---

### 6. 햅틱 피드백 추가 📳
**우선순위**: 🟢 낮음  
**예상 시간**: 2-3시간

**개선 내용**:
- [ ] 방향 변경 시 진동
- [ ] 도착 감지 시 진동
- [ ] 버튼 클릭 시 진동 (선택적)

**파일 수정**:
- `frontend/hooks/useHaptic.ts` - 새 파일
- `frontend/app/ar-nav/run/page.tsx` - 햅틱 통합

---

## 🔧 기능 개선 항목

### 7. 오프라인 모드 기본 지원 📱
**우선순위**: 🟡 중간  
**예상 시간**: 1주

**구현 내용**:
- [ ] Service Worker 등록
- [ ] 목적지 데이터 캐싱
- [ ] 오프라인 상태 감지 및 안내
- [ ] 오프라인에서도 기본 네비게이션 가능

---

### 8. 도착 감지 정확도 개선 🎯
**우선순위**: 🟡 중간  
**예상 시간**: 4-6시간

**개선 내용**:
- [ ] GPS 정확도에 따른 도착 반경 조절
- [ ] 일정 시간 동안 반경 내 유지 시 도착 처리
- [ ] 도착 감지 임계값 설정 가능

**파일 수정**:
- `frontend/hooks/useNavComputation.ts`

---

## 🧪 테스트 및 검증 항목

### 9. 실제 기기 테스트 환경 구축 📱
**우선순위**: 🟡 중간  
**예상 시간**: 2-3시간

**구현 내용**:
- [ ] HTTPS 설정 (GPS API 요구사항)
- [ ] 네트워크 접근 설정 (모바일 기기에서 접근 가능하도록)
- [ ] 디버깅 도구 설정 가이드 작성

---

### 10. 브라우저 호환성 테스트 🌐
**우선순위**: 🟢 낮음  
**예상 시간**: 3-4시간

**테스트 브라우저**:
- [ ] Chrome (Android)
- [ ] Safari (iOS)
- [ ] Firefox (Android)
- [ ] Edge (Android)
- [ ] Samsung Internet (Android)

---

## 📊 백엔드 개선 항목

### 11. 목적지 검색 API 개선 🔍
**우선순위**: 🔴 높음  
**예상 시간**: 2-3시간

**구현 내용**:
- [ ] Full-text search 지원 (PostgreSQL)
- [ ] 거리 기반 정렬 옵션
- [ ] 페이지네이션 개선

**파일 수정**:
- `backend/app/api/v1/destinations.py`

---

### 12. 통계 API 확장 📈
**우선순위**: 🟢 낮음  
**예상 시간**: 3-4시간

**구현 내용**:
- [ ] 시간대별 통계
- [ ] 인기 목적지 통계
- [ ] 사용자별 통계

**파일 수정**:
- `backend/app/api/v1/analytics.py`

---

## 🚀 다음 단계 추천 순서

### 이번 주 (즉시 시작 가능)
1. ✅ **목적지 검색 기능** - 가장 사용자 요구가 높음
2. ✅ **즐겨찾기 기능** - 사용자 편의성 향상
3. ✅ **화살표 애니메이션 개선** - UX 개선

### 다음 주
4. 경로 히스토리 기능
5. 로딩 상태 개선
6. 도착 감지 정확도 개선

### 다음 달
7. 오프라인 모드 지원
8. 실제 기기 테스트
9. SCQ 통합 준비

---

## 📝 체크리스트 요약

### 즉시 개발 가능 (이번 주)
- [ ] 목적지 검색 기능
- [ ] 즐겨찾기 기능
- [ ] 화살표 애니메이션 개선

### 단기 개선 (다음 주)
- [ ] 경로 히스토리 기능
- [ ] 로딩 상태 개선
- [ ] 도착 감지 정확도 개선

### 중기 개선 (다음 달)
- [ ] 오프라인 모드 지원
- [ ] 실제 기기 테스트
- [ ] 브라우저 호환성 테스트

### 장기 개선 (1-2개월)
- [ ] SCQ 모델 통합
- [ ] 프로덕션 준비
- [ ] CI/CD 파이프라인

---

**마지막 업데이트**: 2024년 12월 19일

